# PixEz Flutter | 使用指南 & 常见问题

首先需要说明：这是 PixEz（Flutter 版）的 FAQ 页。

如果你正在使用旧的原生版本，有关任何的错误回报，你都应当联系新的维护者（[这里](https://github.com/ultranity/Pix-EzViewer)）。

## 初次使用

既然你已经看到了这个页面，那么我假设你至少看了项目 README 的一半多，知道在哪里下载这个 app 并且也安装上了，那我们就开始吧。

### 选择存储目录

从即将发布的 Android 11 开始，系统引入了新的存储机制：分区存储。为了更好地适配存储的变化，在 0.1.9 及之后的版本开始，PixEz 开始使用存储访问框架（SAF）来访问文件。

（了解更多详情轻点 [国内](https://developer.android.com/training/data-storage/shared/documents-files) 或 [国外](https://developer.android.com/training/data-storage/shared/documents-files)）

这种方式的优点是：存储操作原生化，并且不需要请求敏感的存储权限；当然，缺点也就是需要用户进行手动的目录选择。

一般来说，只要你的手机没有阉割系统的“文件”应用（包名为 `com.android.documentsui` ），你应该都能在点击“确认”之后正常来到这个应用。

**我们推荐选择的路径是** `Pictures/PixEz` ，当然一般来说这个路径不会从一开始就存在，所以往往文件夹需要自己来创建。

具体一点的操作方式如下：

1. 点击右上角的三个点，选择“显示内部存储空间”（如果你以前没有改为“显示”的话）
2. 打开左侧栏，找到你的手机内部存储空间（一般为手机图标 + 手机型号，可用空间 XX GB）
3. 找到 `Pictures` 目录，如果你还没有 `PixEz` 目录则从右上角的三个点中选择“新建文件夹”
4. 进入刚建立的 `PixEz` 目录，点击下面的“选择”

### 登录 & 注册

如果你有账号，登录即可。

如果你没有账号，但是又不想走繁琐的注册流程，则可以点击“没有账号？”，按流程简单操作之后 app 会为你建立一个全新的 pixiv 账号。

**注册后，请到 设置 -> 账户信息 查看你的用户名和密码，以备稍后登录。**

### 动图 & 下载

下载按钮不再外显，而是几乎通过长按操作来实现。在主界面瀑布流长按对应插画，会自动下载该插画的所有分 p（如有）；而在插画详情界面长按插画，对于多 p 插画则可手动选择想要下载的分 p。

动图的播放按钮在详情页图片下方，点击之后便会开始获取动图内容并加载播放。动图的保存一样是长按，此时会提示是否合成动图。开始时会有 toast 提示（encoding），结束时同样有 toast 提示（encode success）。

### iOS 的排行榜

在 首页 -> 为你推荐 四个字最右边的“更多”。

## 其他常见问题

**上架又下架是怎么一回事儿？**

简单的来说，就是 Play 不知道发了什么神经下架了原生版之后，又在 Flutter 版上架之后将 Flutter 版下架。嘛，虽然现在历经波折，Flutter 版还是在 Play 上架了！

***

**为什么有的图看不了？**

一般有这些情况：

1. 原画师把图删了 / 设为隐藏了；

2. 图是 R18 的，但是你账号没开查看 R18。

   例如这样：

   ![未解锁](Not-Unlocked.jpg)

**解决方法：**

对于情况 1：我们表示爱莫能助… 建议利用搜索引擎的快照等尝试恢复。

对于情况 2：在 [网页端](https://pixiv.net)（电脑或手机）登录 pixiv，找到「用户设置」-「浏览限制」，将「限制浏览的作品（R-18）」改为「显示作品」，保存设置之后在本应用内再试。

***

**按照上面的调整完了，怎么还是有 “H 是不行的！” 呢？**

在设置中确保 “H 是可以的！”，如无效重启应用。

*等群里又来了什么沙雕萌新问题再来补吧，很多要回答的都在上面的使用指南里了。*
